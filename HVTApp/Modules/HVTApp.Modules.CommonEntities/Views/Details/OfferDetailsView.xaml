<inf:ViewBase xmlns:igWpf="http://schemas.infragistics.com/xaml/wpf"
              xmlns:inf="clr-namespace:HVTApp.Infrastructure;assembly=HVTApp.Infrastructure"
              xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
              xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
              xmlns:controls="clr-namespace:HVTApp.UI.Controls"
              xmlns:infWpf="http://infragistics.com/DataPresenter"
              x:Class="HVTApp.UI.Views.OfferDetailsView">

    <!--<StackPanel Orientation="Vertical">

        <StackPanel Orientation="Horizontal">
            <Label Content="Общая стоимость: "/>
            <Label Content="{Binding Item.TotalCost}"/>
        </StackPanel>

        <StackPanel Orientation="Horizontal">
            <Label Content="Стоимость с НДС ("/>
            <igWpf:XamNumericEditor Value="{Binding Item.VatProc}"/>
            <Label Content="%): "/>
            <Label Content="{Binding Item.TotalCostWithVat}"></Label>
        </StackPanel>

    </StackPanel>-->
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <Grid Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition MinWidth="500"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition/>
                <RowDefinition/>
                <RowDefinition/>
                <RowDefinition/>
                <RowDefinition/>
                <RowDefinition/>
                <RowDefinition/>
                <RowDefinition/>
                <RowDefinition/>
                <RowDefinition/>
                <RowDefinition/>
                <RowDefinition/>
                <RowDefinition/>
            </Grid.RowDefinitions>

            <Label Content="Author:" Grid.Column="0"   Grid.Row="0" />
            <controls:ChooseItemControl Grid.Column="1"    
                                        Grid.Row="0" 
                                        Item="{Binding Item.Author}"
                                        AddItemCommand="{Binding SelectAuthorCommand}" 
                                        RemoveItemCommand="{Binding RemoveAuthorCommand}"/>
        
            <Label Content="Comment:" Grid.Column="0" Grid.Row="1" />
            <TextBox Grid.Column="1"    
                     Grid.Row="1" 
                     Text="{Binding Item.Comment, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
        
            <Label Content="Project:" Grid.Column="0" Grid.Row="3" />
            <controls:ChooseItemControl Grid.Column="1"    
                                        Grid.Row="3"
                                        Item="{Binding Item.Project}"
                                        AddItemCommand="{Binding SelectProjectCommand}"
                                        RemoveItemCommand="{Binding RemoveProjectCommand}"/>
        
            <Label Content="Recipient Employee:" Grid.Column="0" Grid.Row="4" />
            <controls:ChooseItemControl Grid.Column="1"    
                                        Grid.Row="4" 
                                        Item="{Binding Item.RecipientEmployee}" 
                                        AddItemCommand="{Binding SelectRecipientEmployeeCommand}" 
                                        RemoveItemCommand="{Binding RemoveRecipientEmployeeCommand}"/>
        
            <Label Content="Recipient:" Grid.Column="0"   Grid.Row="5" />
            <controls:ChooseItemControl Grid.Column="1"    
                                        Grid.Row="5" 
                                        Item="{Binding Item.Recipient}" 
                                        AddItemCommand="{Binding SelectRecipientCommand}" 
                                        RemoveItemCommand="{Binding RemoveRecipientCommand}"/>
        
            <Label Content="Registration Details Of Recipient:" Grid.Column="0"   Grid.Row="6" />
            <controls:ChooseItemControl Grid.Column="1"    
                                        Grid.Row="6" 
                                        Item="{Binding Item.RegistrationDetailsOfRecipient}" 
                                        AddItemCommand="{Binding SelectRegistrationDetailsOfRecipientCommand}" 
                                        RemoveItemCommand="{Binding RemoveRegistrationDetailsOfRecipientCommand}"/>
        
            <Label Content="Registration Details Of Sender:" Grid.Column="0"   Grid.Row="7" />
            <controls:ChooseItemControl Grid.Column="1"    
                                        Grid.Row="7" 
                                        Item="{Binding Item.RegistrationDetailsOfSender}" 
                                        AddItemCommand="{Binding SelectRegistrationDetailsOfSenderCommand}" 
                                        RemoveItemCommand="{Binding RemoveRegistrationDetailsOfSenderCommand}"/>
        
            <Label Content="Request Document:" Grid.Column="0"   Grid.Row="8" />
            <controls:ChooseItemControl Grid.Column="1"    
                                        Grid.Row="8" 
                                        Item="{Binding Item.RequestDocument}" 
                                        AddItemCommand="{Binding SelectRequestDocumentCommand}" 
                                        RemoveItemCommand="{Binding RemoveRequestDocumentCommand}"/>
        
            <Label Content="Sender Employee:" Grid.Column="0"   Grid.Row="9" />
            <controls:ChooseItemControl Grid.Column="1"    
                                        Grid.Row="9" 
                                        Item="{Binding Item.SenderEmployee}" 
                                        AddItemCommand="{Binding SelectSenderEmployeeCommand}" 
                                        RemoveItemCommand="{Binding RemoveSenderEmployeeCommand}"/>
        
            <Label Content="Sender:" Grid.Column="0"   Grid.Row="10" />
            <controls:ChooseItemControl Grid.Column="1"    
                                        Grid.Row="10" Item="{Binding Item.Sender}" 
                                        AddItemCommand="{Binding SelectSenderCommand}" 
                                        RemoveItemCommand="{Binding RemoveSenderCommand}"/>
        
            <Label Content="Validity Date:" Grid.Column="0"   Grid.Row="11" />
            <DatePicker Grid.Column="1"   
                        Grid.Row="11" 
                        SelectedDate="{Binding ValidityDate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
        
            <Label Content="Vat:" Grid.Column="0"   Grid.Row="12" />
            <igWpf:XamNumericEditor Grid.Column="1"    
                                    Grid.Row="12" 
                                    Text="{Binding Item.Vat, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"  />
        </Grid>

        <infWpf:XamDataGrid Grid.Row="1" DataSource="{Binding OfferUnitsGroupedCollection}">

            <infWpf:XamDataGrid.FieldLayouts>
                <infWpf:FieldLayout>
                    <infWpf:FieldLayout.Fields>
                        <infWpf:TextField Name="Facility" Label="Объект" Width="Auto"/>
                        <infWpf:TextField Name="Product" Label="Оборудование" />
                        <infWpf:NumericField Name="Amount" Label="Количество" Width="Auto"/>
                        <infWpf:NumericField Name="MarginalIncome" Label="МД, %" AllowEdit="True" Width="Auto"/>
                        <infWpf:CurrencyField Name="Cost" Label="Стоимость" AllowEdit="True" Width="Auto"/>
                        <infWpf:CurrencyField Name="Total" Label="Сумма" Width="Auto"/>
                    </infWpf:FieldLayout.Fields>
                </infWpf:FieldLayout>
            </infWpf:XamDataGrid.FieldLayouts>
        </infWpf:XamDataGrid>

    </Grid>


</inf:ViewBase>

