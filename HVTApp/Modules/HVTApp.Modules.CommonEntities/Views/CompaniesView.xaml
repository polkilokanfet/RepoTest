<inf:ViewBase
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:prism="http://prismlibrary.com/"             
             xmlns:infg="http://infragistics.com/DataPresenter"
             xmlns:inf="clr-namespace:HVTApp.Infrastructure;assembly=HVTApp.Infrastructure"
             x:Class="HVTApp.Modules.CommonEntities.Views.CompaniesView"             
             prism:ViewModelLocator.AutoWireViewModel="True">

    <infg:XamDataGrid DataSource="{Binding Items, Mode=OneWay}" SelectedDataItem="{Binding SelectedItem, Mode=TwoWay}">

        <infg:XamDataGrid.FieldSettings>
            <infg:FieldSettings AllowEdit="False" AllowRecordFiltering="True"/>
        </infg:XamDataGrid.FieldSettings>

        <infg:XamDataGrid.FieldLayoutSettings>
            <infg:FieldLayoutSettings AutoGenerateFields ="False" AutoFitMode="Always" AllowAddNew="False" AllowDelete="False"/>
        </infg:XamDataGrid.FieldLayoutSettings>

        <infg:XamDataGrid.FieldLayouts>
            <infg:FieldLayout Key="Company">
                <infg:FieldLayout.Fields>
                    <infg:TextField Name="FullName" Label="Полное наименование"/>
                    <infg:TextField Name="ShortName" Label="Сокращенное наименование"/>
                    <infg:TextField Name="Form" Label="Форма"/>
                    <infg:TextField Name="ParentCompany" Label="Головная компания"/>

                    <infg:Field Name="ChildCompanies" Visibility="Visible" IsExpandable="True" Label="Child Companies" IsSelected="True" IsPrimary="True"/>
                </infg:FieldLayout.Fields>
            </infg:FieldLayout>

            <infg:FieldLayout Key="ChildCompany" ParentFieldName="ChildCompanies" ParentFieldLayoutKey="Company">
                <infg:FieldLayout.Fields>
                    <infg:TextField Name="FullName" Label="Полное наименование"/>
                    <infg:TextField Name="ShortName" Label="Сокращенное наименование"/>
                    <infg:TextField Name="Form" Label="Форма"/>
                    <infg:TextField Name="ParentCompany" Label="Головная компания" Visibility="Collapsed"/>
                </infg:FieldLayout.Fields>
            </infg:FieldLayout>
        </infg:XamDataGrid.FieldLayouts>
    </infg:XamDataGrid>


</inf:ViewBase>































