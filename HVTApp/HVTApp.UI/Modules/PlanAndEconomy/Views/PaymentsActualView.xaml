<inf:ViewBase xmlns:igWpf="http://schemas.infragistics.com/xaml/wpf"  
              xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
              xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
              xmlns:infg="http://infragistics.com/DataPresenter"
              xmlns:inf="clr-namespace:HVTApp.Infrastructure;assembly=HVTApp.Infrastructure"
              xmlns:prism="http://prismlibrary.com/"
              prism:ViewModelLocator.AutoWireViewModel="True"
              x:Class="HVTApp.UI.Modules.PlanAndEconomy.Views.PaymentsActualView">
    
    <infg:XamDataGrid DataSource="{Binding Payments}" SelectedDataItem="{Binding SelectedPayment}">

        <infg:XamDataGrid.ContextMenu>
            <ContextMenu>
                <MenuItem Header="Export to Excel" Command="{Binding ExportToExcel}" CommandParameter="{Binding PlacementTarget, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type ContextMenu}}}"/>
            </ContextMenu>
        </infg:XamDataGrid.ContextMenu>

        <infg:XamDataGrid.FieldLayouts>
            <infg:FieldLayout>
                <infg:TextField AlternateBinding="{Binding SalesUnit.Facility}" Label="Объект" BindingType="UseAlternateBinding" Width="Auto"/>
                <infg:TextField AlternateBinding="{Binding SalesUnit.Product}" Converter="{StaticResource ObjectToStringConverter}" Label="Продукт" BindingType="UseAlternateBinding"/>
                <infg:TextField AlternateBinding="{Binding SalesUnit.Order}" Converter="{StaticResource ObjectToStringConverter}" Label="З/з" BindingType="UseAlternateBinding" Width="Auto"/>
                <infg:TextField AlternateBinding="{Binding SalesUnit.OrderPosition}" Label="Поз." BindingType="UseAlternateBinding" Width="Auto"/>
                <infg:DateTimeField AlternateBinding="{Binding Payment.Date}" Label="Дата" BindingType="UseAlternateBinding" Width="Auto" AllowResize="False"/>
                <infg:NumericField AlternateBinding="{Binding Payment.Sum}" Label="Сумма без НДС" BindingType="UseAlternateBinding" Width="Auto" AllowResize="False"/>
                <infg:NumericField AlternateBinding="{Binding Percent}" Label="%" BindingType="UseAlternateBinding" Width="Auto" AllowResize="False"/>
                <infg:CheckBoxField AlternateBinding="{Binding SalesUnit.IsPaid}" Label="Оплачен" BindingType="UseAlternateBinding" Width="Auto"/>
                <infg:TextField AlternateBinding="{Binding SalesUnit.Project.Manager}" Label="Менеджер" BindingType="UseAlternateBinding" Width="Auto" AllowResize="False"/>
                <infg:TextField AlternateBinding="{Binding Contract}" Label="Договор" BindingType="UseAlternateBinding" Width="Auto"/>
                <infg:TextField AlternateBinding="{Binding SalesUnit.Specification}" Label="Спецификация" BindingType="UseAlternateBinding"/>
                <infg:TextField AlternateBinding="{Binding Contragent}" Label="Контрагент" BindingType="UseAlternateBinding" Width="Auto"/>
                <infg:TextField AlternateBinding="{Binding PaymentDocument.Number}" Label="Платежка" BindingType="UseAlternateBinding"/>
            </infg:FieldLayout>
        </infg:XamDataGrid.FieldLayouts>
            
    </infg:XamDataGrid>
    
</inf:ViewBase>

	